import { CsvService } from './csv.service';
import { TestBed } from '@angular/core/testing';
import { CommonModule } from '@angular/common';
import { HttpClientModule } from '@angular/common/http';

describe('Service: My: TestBed', () => {
  let service: CsvService;

  const mockOriginalProps = [
    'Ladevorgang',
    'Vertrag',
    'Positionsnummer',
    'Gestartet',
    'Beendet',
    'EVSE-ID',
    'Standort',
    'Land',
    'Leistungszeitpunkt',
    'ext. Auftragsnummer',
    'Stromart',
    'Positionstyp',
    'Menge',
    'Preis pro Einheit',
    'Gesamtpreis',
    'Steuersatz',
    'Steuerkennzeichen',
    'Steuertyp',
    'Buchungsnummer',
    'Erstellt am',
    'Belegnummer (Export)',
    'Dokument-ID',
  ];
  const mockOriginalData = [
    {
      Ladevorgang: 17851245,
      Vertrag: 685324,
      Positionsnummer: 60864,
      Gestartet: '2022-08-31 16:41:17',
      Beendet: '2022-08-31 17:15:36',
      'EVSE-ID': 'DE*BSW*E604027*027',
      Standort: 'Berliner Stadtwerke Waidmannsluster Damm 136 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:15:36',
      'ext. Auftragsnummer': 380005,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '1,76',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '0,76 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:16:09',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17846320,
      Vertrag: 685324,
      Positionsnummer: 60869,
      Gestartet: '2022-08-31 13:30:10',
      Beendet: '2022-08-31 17:19:15',
      'EVSE-ID': 'DE*BSW*E603094*094',
      Standort: 'Berliner Stadtwerke Bernburger Str. 34 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:19:15',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '12,34',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '5,31 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:20:07',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17845197,
      Vertrag: 685324,
      Positionsnummer: 60886,
      Gestartet: '2022-08-31 12:50:29',
      Beendet: '2022-08-31 17:25:41',
      'EVSE-ID': 'DE*BSW*E603905*905',
      Standort: 'Berliner Stadtwerke Ufnaustr. 10 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:25:41',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '12,39',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '5,33 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:26:06',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17834807,
      Vertrag: 685324,
      Positionsnummer: 60924,
      Gestartet: '2022-08-31 8:00:33',
      Beendet: '2022-08-31 17:43:22',
      'EVSE-ID': 'DE*BSW*E603402*402',
      Standort: 'Berliner Stadtwerke Hohenstaufenstr. 31 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:43:22',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '7,50',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '3,23 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:46:10',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17834807,
      Vertrag: 685324,
      Positionsnummer: 60925,
      Gestartet: '2022-08-31 14:45:32',
      Beendet: '2022-08-31 17:43:22',
      'EVSE-ID': 'DE*BSW*E603402*402',
      Standort: 'Berliner Stadtwerke Hohenstaufenstr. 31 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:43:22',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'Standzeit',
      Menge: '178,00',
      'Preis pro Einheit': '2,00 ct',
      Gesamtpreis: '3,56 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:46:12',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17834807,
      Vertrag: 685324,
      Positionsnummer: 60932,
      Gestartet: '2022-08-31 8:00:33',
      Beendet: '2022-08-31 17:43:22',
      'EVSE-ID': 'DE*BSW*E603402*402',
      Standort: 'Berliner Stadtwerke Hohenstaufenstr. 31 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:43:22',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '7,50',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '3,23 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:47:55',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17834807,
      Vertrag: 685324,
      Positionsnummer: 60933,
      Gestartet: '2022-08-31 14:45:32',
      Beendet: '2022-08-31 17:43:22',
      'EVSE-ID': 'DE*BSW*E603402*402',
      Standort: 'Berliner Stadtwerke Hohenstaufenstr. 31 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:43:22',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'Standzeit',
      Menge: '178,00',
      'Preis pro Einheit': '2,00 ct',
      Gesamtpreis: '3,56 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:48:01',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17836171,
      Vertrag: 685324,
      Positionsnummer: 60961,
      Gestartet: '2022-08-31 8:33:00',
      Beendet: '2022-08-31 17:47:31',
      'EVSE-ID': 'DE*BSW*E603701*701',
      Standort: 'Berliner Stadtwerke Pestalozzistr. 44 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:47:31',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '6,31',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '2,71 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:53:25',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17836171,
      Vertrag: 685324,
      Positionsnummer: 60962,
      Gestartet: '2022-08-31 15:02:59',
      Beendet: '2022-08-31 17:47:31',
      'EVSE-ID': 'DE*BSW*E603701*701',
      Standort: 'Berliner Stadtwerke Pestalozzistr. 44 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:47:31',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'Standzeit',
      Menge: '165,00',
      'Preis pro Einheit': '2,00 ct',
      Gesamtpreis: '3,30 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:53:26',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17838922,
      Vertrag: 685324,
      Positionsnummer: 60971,
      Gestartet: '2022-08-31 9:42:08',
      Beendet: '2022-08-31 17:57:27',
      'EVSE-ID': 'DE*BSW*E603877*877',
      Standort: 'Berliner Stadtwerke Swinemünder Str. 126 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:57:27',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '11,12',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '4,78 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:59:41',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17838922,
      Vertrag: 685324,
      Positionsnummer: 60972,
      Gestartet: '2022-08-31 15:12:07',
      Beendet: '2022-08-31 17:57:27',
      'EVSE-ID': 'DE*BSW*E603877*877',
      Standort: 'Berliner Stadtwerke Swinemünder Str. 126 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:57:27',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'Standzeit',
      Menge: '165,00',
      'Preis pro Einheit': '2,00 ct',
      Gesamtpreis: '3,30 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:59:41',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17849827,
      Vertrag: 685324,
      Positionsnummer: 60973,
      Gestartet: '2022-08-31 15:46:42',
      Beendet: '2022-08-31 17:54:54',
      'EVSE-ID': 'DE*BSW*E603962*962',
      Standort: 'Berliner Stadtwerke Wöhlertstr. 18 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:54:54',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '12,56',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '5,40 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:59:50',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
  ];
  const mockProcessedProps = [
    'Ladevorgang',
    'Vertrag',
    'Positionsnummer',
    'Gestartet',
    'Beendet',
    'EVSE-ID',
    'Standort',
    'Land',
    'Leistungszeitpunkt',
    'ext. Auftragsnummer',
    'Stromart',
    'Positionstyp',
    'Menge',
    'Preis pro Einheit',
    'Gesamtpreis',
    'Steuersatz',
    'Steuerkennzeichen',
    'Steuertyp',
    'Buchungsnummer',
    'Erstellt am',
    'Belegnummer (Export)',
    'Dokument-ID',
  ];
  const mockProcessedData = [
    {
      Ladevorgang: 17851245,
      Vertrag: 685324,
      Positionsnummer: 60864,
      Gestartet: '2022-08-31 16:41:17',
      Beendet: '2022-08-31 17:15:36',
      'EVSE-ID': 'DE*BSW*E604027*027',
      Standort: 'Berliner Stadtwerke Waidmannsluster Damm 136 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:15:36',
      'ext. Auftragsnummer': 380005,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '1,76',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '0,76 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:16:09',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17846320,
      Vertrag: 685324,
      Positionsnummer: 60869,
      Gestartet: '2022-08-31 13:30:10',
      Beendet: '2022-08-31 17:19:15',
      'EVSE-ID': 'DE*BSW*E603094*094',
      Standort: 'Berliner Stadtwerke Bernburger Str. 34 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:19:15',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '12,34',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '5,31 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:20:07',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17845197,
      Vertrag: 685324,
      Positionsnummer: 60886,
      Gestartet: '2022-08-31 12:50:29',
      Beendet: '2022-08-31 17:25:41',
      'EVSE-ID': 'DE*BSW*E603905*905',
      Standort: 'Berliner Stadtwerke Ufnaustr. 10 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:25:41',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '12,39',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '5,33 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:26:06',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17834807,
      Vertrag: 685324,
      Positionsnummer: 60924,
      Gestartet: '2022-08-31 8:00:33',
      Beendet: '2022-08-31 17:43:22',
      'EVSE-ID': 'DE*BSW*E603402*402',
      Standort: 'Berliner Stadtwerke Hohenstaufenstr. 31 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:43:22',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '7,50',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '3,23 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:46:10',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17834807,
      Vertrag: 685324,
      Positionsnummer: 60925,
      Gestartet: '2022-08-31 14:45:32',
      Beendet: '2022-08-31 17:43:22',
      'EVSE-ID': 'DE*BSW*E603402*402',
      Standort: 'Berliner Stadtwerke Hohenstaufenstr. 31 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:43:22',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'Standzeit',
      Menge: '178,00',
      'Preis pro Einheit': '2,00 ct',
      Gesamtpreis: '3,56 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:46:12',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17834807,
      Vertrag: 685324,
      Positionsnummer: 60932,
      Gestartet: '2022-08-31 8:00:33',
      Beendet: '2022-08-31 17:43:22',
      'EVSE-ID': 'DE*BSW*E603402*402',
      Standort: 'Berliner Stadtwerke Hohenstaufenstr. 31 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:43:22',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '7,50',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '3,23 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:47:55',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17834807,
      Vertrag: 685324,
      Positionsnummer: 60933,
      Gestartet: '2022-08-31 14:45:32',
      Beendet: '2022-08-31 17:43:22',
      'EVSE-ID': 'DE*BSW*E603402*402',
      Standort: 'Berliner Stadtwerke Hohenstaufenstr. 31 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:43:22',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'Standzeit',
      Menge: '178,00',
      'Preis pro Einheit': '2,00 ct',
      Gesamtpreis: '3,56 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:48:01',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17836171,
      Vertrag: 685324,
      Positionsnummer: 60961,
      Gestartet: '2022-08-31 8:33:00',
      Beendet: '2022-08-31 17:47:31',
      'EVSE-ID': 'DE*BSW*E603701*701',
      Standort: 'Berliner Stadtwerke Pestalozzistr. 44 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:47:31',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '6,31',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '2,71 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:53:25',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17836171,
      Vertrag: 685324,
      Positionsnummer: 60962,
      Gestartet: '2022-08-31 15:02:59',
      Beendet: '2022-08-31 17:47:31',
      'EVSE-ID': 'DE*BSW*E603701*701',
      Standort: 'Berliner Stadtwerke Pestalozzistr. 44 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:47:31',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'Standzeit',
      Menge: '165,00',
      'Preis pro Einheit': '2,00 ct',
      Gesamtpreis: '3,30 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:53:26',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17838922,
      Vertrag: 685324,
      Positionsnummer: 60971,
      Gestartet: '2022-08-31 9:42:08',
      Beendet: '2022-08-31 17:57:27',
      'EVSE-ID': 'DE*BSW*E603877*877',
      Standort: 'Berliner Stadtwerke Swinemünder Str. 126 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:57:27',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '11,12',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '4,78 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:59:41',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17838922,
      Vertrag: 685324,
      Positionsnummer: 60972,
      Gestartet: '2022-08-31 15:12:07',
      Beendet: '2022-08-31 17:57:27',
      'EVSE-ID': 'DE*BSW*E603877*877',
      Standort: 'Berliner Stadtwerke Swinemünder Str. 126 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:57:27',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'Standzeit',
      Menge: '165,00',
      'Preis pro Einheit': '2,00 ct',
      Gesamtpreis: '3,30 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:59:41',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
    {
      Ladevorgang: 17849827,
      Vertrag: 685324,
      Positionsnummer: 60973,
      Gestartet: '2022-08-31 15:46:42',
      Beendet: '2022-08-31 17:54:54',
      'EVSE-ID': 'DE*BSW*E603962*962',
      Standort: 'Berliner Stadtwerke Wöhlertstr. 18 AC',
      Land: 'Deutschland',
      Leistungszeitpunkt: '2022-08-31 17:54:54',
      'ext. Auftragsnummer': 380004,
      Stromart: 'ac',
      Positionstyp: 'kWh',
      Menge: '12,56',
      'Preis pro Einheit': '43,00 ct',
      Gesamtpreis: '5,40 €',
      Steuersatz: '19%',
      Steuerkennzeichen: 'A7',
      Steuertyp: 'Standardsteuer für Abrechnungsbelege und Vertragskonto',
      Buchungsnummer: null,
      'Erstellt am': '2022-08-31 17:59:50',
      'Belegnummer (Export)': null,
      'Dokument-ID': null,
    },
  ];

  beforeEach(() => {
    TestBed.configureTestingModule({
      imports: [CommonModule, HttpClientModule],
      providers: [CsvService],
    });

    service = TestBed.get(CsvService);
    service.originalData = mockOriginalData;
    service.originalProps = mockOriginalProps;

    service.processedProps = mockProcessedProps;
    service.processedData = mockProcessedData;
  });

  it('should create an instance', () => {
    console.log(service);
    expect(service).toBeDefined();
  });

  it('should find dupes', function () {
    const props = ['Ladevorgang', 'Beendet', 'Positionstyp'];

    const dupeData = service.detectDupes(props);

    console.log({ dupeData });
    expect(dupeData.length).toEqual(4);
  });
});
